<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Near</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#070b18;
  --card:rgba(255,255,255,.06);
  --accent:#1ea7ff;
  --danger:#ff5b5b;
  --muted:#9aa3c7;
}

*{box-sizing:border-box;font-family:system-ui,-apple-system,sans-serif}

body{
  margin:0;
  background:radial-gradient(circle at top,#141a33,#05070f);
  color:#fff;
  min-height:100vh;
}

.app{
  max-width:480px;
  margin:0 auto;
  padding:32px 16px 160px;
}

h1{text-align:center;margin-top:40px;font-size:36px}
.tagline{text-align:center;color:var(--muted);margin-top:6px}

.list{margin-top:28px}

.card{
  background:var(--card);
  border-radius:18px;
  padding:16px;
  margin-bottom:14px;
  display:flex;
  gap:14px;
  align-items:center;
  cursor:pointer;
  backdrop-filter:blur(10px);
  animation:fade .35s ease forwards;
}

.avatar{
  width:54px;height:54px;border-radius:50%;
  background:linear-gradient(135deg,#2b3566,#1a2145);
}

.name{font-weight:600;font-size:17px}
.distance{font-size:14px;color:var(--muted);margin-top:4px}

.footer{
  position:fixed;left:0;right:0;bottom:6px;
  text-align:center;font-size:13px;color:var(--muted);
}

/* MODALS */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.65);
  display:none;
  align-items:center;
  justify-content:center;
}

.modal.active{display:flex}

.sheet{
  background:#0f1530;
  border-radius:20px;
  padding:20px;
  width:calc(100% - 32px);
  max-width:420px;
}

.sheet h2{margin:0 0 8px;font-size:22px}
.sheet p{font-size:14px;color:var(--muted);margin-bottom:14px}

.actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.btn{
  flex:1;
  padding:14px;
  border-radius:14px;
  border:none;
  font-weight:600;
}

.primary{background:var(--accent);color:#000}
.soft{background:#1a2145;color:#cbd3ff}
.block{background:var(--danger);color:#000}

.log{
  margin-top:20px;
  font-size:13px;
  color:#aab3d6;
}

@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}
</style>
</head>

<body>

<div class="app">
  <h1>Near</h1>
  <div class="tagline">Clear intent. Clean exits.</div>

  <div class="list" id="peopleList"></div>

  <div class="log" id="historyLog"></div>
</div>

<div class="footer">
  No ghosts • No guilt • No pressure
</div>

<!-- PROFILE -->
<div class="modal" id="profileModal">
  <div class="sheet">
    <h2 id="pName"></h2>
    <p id="pBio"></p>
    <div class="actions">
      <button class="btn soft" id="softClose">Set free</button>
      <button class="btn primary" id="like">Like</button>
      <button class="btn block" id="block">Block</button>
    </div>
  </div>
</div>

<!-- CONFIRM -->
<div class="modal" id="confirmModal">
  <div class="sheet">
    <h2 id="confirmTitle"></h2>
    <p id="confirmText"></p>
    <div class="actions">
      <button class="btn soft" id="cancel">Cancel</button>
      <button class="btn primary" id="confirm">Confirm</button>
    </div>
  </div>
</div>

<script>
const people=[
  {name:"Sam",age:54,distance:"600m away",bio:"Ocean swims. Calm mornings."},
  {name:"Jade",age:31,distance:"1.1km away",bio:"Creative, grounded, warm energy."},
  {name:"Michael",age:42,distance:"300m away",bio:"Fitness, books, routines."},
  {name:"Elena",age:27,distance:"900m away",bio:"Art, travel, curiosity."}
];

const list=document.getElementById("peopleList");
const profile=document.getElementById("profileModal");
const confirmModal=document.getElementById("confirmModal");
const history=document.getElementById("historyLog");

let selected=null;
let action=null;

function log(msg){
  const d=document.createElement("div");
  d.textContent=`• ${msg}`;
  history.prepend(d);
}

people.forEach(p=>{
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`
    <div class="avatar"></div>
    <div>
      <div class="name">${p.name}, ${p.age}</div>
      <div class="distance">${p.distance}</div>
    </div>`;
  c.onclick=()=>{
    selected=p;
    document.getElementById("pName").textContent=`${p.name}, ${p.age}`;
    document.getElementById("pBio").textContent=p.bio;
    profile.classList.add("active");
  };
  list.appendChild(c);
});

document.getElementById("like").onclick=()=>{
  profile.classList.remove("active");
  log(`You liked ${selected.name}. Intent declared.`);
};

document.getElementById("softClose").onclick=()=>{
  action="soft";
  profile.classList.remove("active");
  openConfirm(
    "Set them free?",
    "They’ll quietly disappear. No awkwardness. No guilt."
  );
};

document.getElementById("block").onclick=()=>{
  action="block";
  profile.classList.remove("active");
  openConfirm(
    "Block this person?",
    "They will never see you again. Silent. Permanent."
  );
};

function openConfirm(title,text){
  document.getElementById("confirmTitle").textContent=title;
  document.getElementById("confirmText").textContent=text;
  confirmModal.classList.add("active");
}

document.getElementById("cancel").onclick=()=>{
  confirmModal.classList.remove("active");
};

document.getElementById("confirm").onclick=()=>{
  confirmModal.classList.remove("active");

  if(action==="soft"){
    log(`${selected.name} was set free. Clean closure.`);
  }

  if(action==="block"){
    log(`${selected.name} was blocked. Boundary held.`);
  }

  // remove card visually
  [...list.children].forEach(c=>{
    if(c.innerText.includes(selected.name)){
      c.style.opacity="0";
      setTimeout(()=>c.remove(),300);
    }
  });
};
</script>

</body>
    </html>
