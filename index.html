<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Near</title>
  <link rel="stylesheet" href="./styles.css?v=1" />
</head>

<body>
  <!-- Background vibe image -->
  <div class="bgVibe" aria-hidden="true"></div>
  <div class="bgShade" aria-hidden="true"></div>

  <div id="app">
    <header class="topBar">
      <div class="brand">
        <h1>Near</h1>
        <div class="tagline">Real people. Near you.</div>
      </div>

      <!-- B) "Me" button = avatar circle (top-right) -->
      <button id="meBtn" class="meBtn" type="button" aria-label="My profile">
        <img id="meBtnImg" class="meBtnImg" alt="" />
        <span id="meBtnFallback" class="meBtnFallback" aria-hidden="true">ME</span>
      </button>
    </header>

    <div id="statusLine" class="statusLine">Signing inâ€¦</div>

    <!-- Vibes -->
    <section class="card" id="vibeCard">
      <div class="rowBetween">
        <div class="h2">Choose your vibe</div>
        <div id="pillStatus" class="pill">Startingâ€¦</div>
      </div>

      <div class="vibes" role="tablist" aria-label="Choose vibe">
        <button class="vibeBtn active" data-theme="city" type="button">City</button>
        <button class="vibeBtn" data-theme="nature" type="button">Nature</button>
        <button class="vibeBtn" data-theme="beach" type="button">Beach</button>
        <button class="vibeBtn" data-theme="fitness" type="button">Fitness</button>
        <button class="vibeBtn" data-theme="tech" type="button">Tech</button>
      </div>
    </section>

    <!-- Promo tiles -->
    <section class="promoGrid" aria-label="Quick actions">
      <button class="promoCard" data-jump="peopleCard" type="button">
        <div class="promoTitle">Choose someone <b>Near</b></div>
      </button>

      <button class="promoCard" data-jump="waveBtn" type="button">
        <div class="promoTitle">Send a <b>Wave</b></div>
      </button>

      <button class="promoCard" data-jump="wavesCard" type="button">
        <div class="promoTitle">See <b>Live</b> waves</div>
      </button>
    </section>

    <!-- People -->
    <section class="card" id="peopleCard">
      <div class="h2">People Near</div>
      <div class="privacy">Distances shown as a minimum of <b>1 km</b> for privacy.</div>
      <ul id="people"></ul>
    </section>

    <button id="waveBtn" type="button">Wave ðŸ‘‹</button>

    <!-- Live feed -->
    <section class="card" id="wavesCard">
      <div class="rowBetween">
        <div class="h2">Live Waves</div>
      </div>
      <ul id="wavesFeed" class="feed"></ul>
    </section>
  </div>

  <!-- PROFILE VIEW (read-only demo profile) -->
  <div id="profileModal" class="modalRoot hidden" aria-hidden="true">
    <div class="modalBackdrop" id="profileBackdrop" aria-label="Close"></div>

    <div class="modalSheet profileSheet" role="dialog" aria-modal="true" aria-label="Profile">
      <div class="profileHeader">
        <div class="profileAvatar" aria-hidden="true">
          <img id="profileAvatarImg" class="profileAvatarImg" alt="" />
          <span id="profileAvatarFallback" class="avatarFallback" aria-hidden="true"></span>
        </div>
        <div class="profileMeta">
          <div id="profileName" class="profileName">â€”</div>
          <div id="profileBio" class="profileBio">â€”</div>
          <div id="profileDist" class="profileDist">within 1 km away</div>
        </div>
      </div>

      <button id="profileWaveBtn" class="primary" type="button">Wave ðŸ‘‹</button>
      <button id="profileCloseBtn" class="secondary" type="button">Back</button>
    </div>
  </div>

  <!-- MY PROFILE (editable "Me", saved to Firestore) -->
  <div id="meModal" class="modalRoot hidden" aria-hidden="true">
    <div class="modalBackdrop" id="meBackdrop" aria-label="Close"></div>

    <div class="modalSheet meSheet" role="dialog" aria-modal="true" aria-label="My profile">
      <div class="modalTitle">My Profile</div>
      <div class="modalSub">This saves to your account.</div>

      <label class="field">
        <div class="fieldLabel">Name</div>
        <input id="meName" class="fieldInput" type="text" maxlength="40" placeholder="Tone" />
      </label>

      <label class="field">
        <div class="fieldLabel">Age</div>
        <input id="meAge" class="fieldInput" type="number" min="18" max="99" placeholder="55" />
      </label>

      <label class="field">
        <div class="fieldLabel">Bio</div>
        <textarea id="meBio" class="fieldArea" maxlength="120" placeholder="One line. Real."></textarea>
      </label>

      <label class="field">
        <div class="fieldLabel">Default vibe</div>
        <select id="meVibe" class="fieldSelect">
          <option value="city">City</option>
          <option value="nature">Nature</option>
          <option value="beach">Beach</option>
          <option value="fitness">Fitness</option>
          <option value="tech">Tech</option>
        </select>
      </label>

      <div class="row2">
        <button id="meSaveBtn" class="primary" type="button">Save</button>
        <button id="meCloseBtn" class="secondary" type="button">Close</button>
      </div>

      <div id="meSavedHint" class="hint"></div>
    </div>
  </div>

  <!-- WAVE modal -->
  <div id="waveModal" class="modalRoot hidden" aria-hidden="true">
    <div class="modalBackdrop" id="waveBackdrop" aria-label="Close"></div>

    <div class="modalSheet" role="dialog" aria-modal="true" aria-label="Send a wave">
      <div class="modalTitle">Say something real</div>

      <textarea id="waveText" maxlength="250" placeholder="Write one message..."></textarea>
      <div class="counter"><span id="count">0</span>/250</div>

      <button id="sendBtn" class="primary" type="button">Send</button>
      <button id="laterBtn" class="secondary" type="button">Maybe later</button>
    </div>
  </div>

  <script type="module" src="./script.js?v=1"></script>
</body>
</html>
